<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üïâÔ∏è Spiritual Course Management</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="shortcut icon" href="/static/favicon.ico">
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="spiritual-symbol">üïâÔ∏è</span>
                <span class="brand-text">Spiritual Learning</span>
            </div>
            <div class="nav-actions">
                <div id="auth-buttons" class="auth-buttons">
                    <button id="login-btn" class="btn btn-outline">Login</button>
                    <button id="register-btn" class="btn btn-primary">Sign Up</button>
                </div>
                <div id="user-menu" class="user-menu" style="display: none;">
                    <span id="user-email" class="user-email"></span>
                    <button id="logout-btn" class="btn btn-outline">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Welcome Section -->
        <section id="welcome-section" class="welcome-section">
            <div class="container">
                <div class="welcome-content">
                    <h1 class="welcome-title">
                        <span class="spiritual-symbol large">üïâÔ∏è</span>
                        Welcome to Spiritual Learning
                    </h1>
                    <p class="welcome-subtitle">Embark on a journey of inner growth and enlightenment through our carefully curated courses</p>
                    <div class="welcome-actions">
                        <button id="explore-courses-btn" class="btn btn-primary large">Explore Courses</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Student Dashboard -->
        <section id="student-dashboard" class="dashboard-section" style="display: none;">
            <div class="container">
                <div class="dashboard-header">
                    <h2 class="section-title">My Spiritual Journey</h2>
                    <p class="section-subtitle">Continue your path of learning and growth</p>
                </div>
                <div id="student-courses" class="courses-grid">
                    <!-- Student courses will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Admin Dashboard -->
        <section id="admin-dashboard" class="dashboard-section" style="display: none;">
            <div class="container">
                <div class="dashboard-header">
                    <h2 class="section-title">Admin Dashboard</h2>
                    <div class="admin-tabs">
                        <button class="tab-btn active" data-tab="courses">Courses</button>
                        <button class="tab-btn" data-tab="students">Students</button>
                        <button class="tab-btn" data-tab="enrollments">Enrollments</button>
                    </div>
                </div>

                <!-- Courses Tab -->
                <div id="admin-courses-tab" class="tab-content active">
                    <div class="tab-header">
                        <button id="add-course-btn" class="btn btn-primary">+ Add Course</button>
                    </div>
                    <div id="admin-courses" class="admin-grid">
                        <!-- Admin courses will be loaded here -->
                    </div>
                </div>

                <!-- Students Tab -->
                <div id="admin-students-tab" class="tab-content">
                    <div id="admin-students" class="admin-grid">
                        <!-- Students will be loaded here -->
                    </div>
                </div>

                <!-- Enrollments Tab -->
                <div id="admin-enrollments-tab" class="tab-content">
                    <div class="enrollment-forms">
                        <div class="form-group">
                            <label>Student:</label>
                            <select id="enrollment-student" class="form-control">
                                <option value="">Select Student</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Course:</label>
                            <select id="enrollment-course" class="form-control">
                                <option value="">Select Course</option>
                            </select>
                        </div>
                        <button id="enroll-student-btn" class="btn btn-primary">Enroll Student</button>
                        <button id="remove-enrollment-btn" class="btn btn-danger">Remove Enrollment</button>
                    </div>
                    <div id="course-students" class="admin-grid">
                        <!-- Course students will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Public Courses Section -->
        <section id="courses-section" class="courses-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Available Courses</h2>
                    <p class="section-subtitle">Discover courses that nurture your spiritual growth</p>
                </div>
                <div id="public-courses" class="courses-grid">
                    <!-- Public courses will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modals -->
    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Welcome Back</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="login-form">
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="login-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" id="login-password" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="login-admin"> Login as Administrator
                        </label>
                    </div>
                    
                    <div class="login-hint">
                        <strong>New here?</strong> If you don't have an account, you can register using the Register button above.<br>
                        <strong>Having trouble?</strong> Make sure your email and password are correct. Passwords are case-sensitive.
                    </div>
                    
                    <button type="submit" class="btn btn-primary full-width">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Join Our Community</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="register-form">
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="register-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Password:</label>
                        <input type="password" id="register-password" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary full-width">Create Account</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Course Modal -->
    <div id="course-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="course-modal-title">Add Course</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="course-form" enctype="multipart/form-data">
                    <input type="hidden" id="course-id">
                    <div class="form-group">
                        <label>Course Title:</label>
                        <input type="text" id="course-title" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Description:</label>
                        <textarea id="course-description" class="form-control" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Content:</label>
                        <textarea id="course-content" class="form-control" rows="4" placeholder="Course content details..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Instructor:</label>
                        <input type="text" id="course-instructor" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Duration:</label>
                        <input type="text" id="course-duration" class="form-control" placeholder="e.g., 8 weeks">
                    </div>
                    <div class="info-note">
                        <p><strong>Note:</strong> After creating the course, use "Manage Sections" to organize and upload content files.</p>
                    </div>
                    <button type="submit" class="btn btn-primary full-width">Save Course</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Media Preview Modal -->
    <div id="media-preview-modal" class="modal">
        <div class="modal-content media-modal-content">
            <div class="modal-header">
                <h3 id="media-title">Document Preview</h3>
                <div class="media-actions">
                    <button id="download-media-btn" class="btn btn-outline btn-sm">
                        üì• Download
                    </button>
                    <span class="close">&times;</span>
                </div>
            </div>
            <div class="modal-body media-modal-body">
                <div id="media-container">
                    <!-- Media content will be loaded here -->
                </div>
                <div id="media-loading" class="loading-text" style="display: none;">
                    Loading preview...
                </div>
                <div id="media-error" class="error-text" style="display: none;">
                    Unable to preview this file. You can download it using the button above.
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
    </div>

    <!-- Toast Messages -->
    <div id="toast-container" class="toast-container"></div>

    <script src="/static/app.js"></script>
</body>
</html>
